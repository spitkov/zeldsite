import{b as y,h as c,a as I,E as N,H as k,r as R,s as g,c as d,d as b,e as T,p as E,f as q,U as L,g as x,i as D,u as F,q as H,S as O}from"./index-client.Bfxe-HCJ.js";function Y(r,f,t=!1){c&&I();var i=r,s=null,a=null,l=L,v=t?N:0,n=!1;const A=(u,e=!0)=>{n=!0,h(e,u)},h=(u,e)=>{if(l===(l=u))return;let _=!1;if(c){const S=i.data===k;!!l===S&&(i=R(),g(i),d(!1),_=!0)}l?(s?b(s):e&&(s=T(()=>e(i))),a&&E(a,()=>{a=null})):(a?b(a):e&&(a=T(()=>e(i))),s&&E(s,()=>{s=null})),_&&d(!0)};y(()=>{n=!1,f(A),n||h(null,null)},v),c&&(i=q)}function o(r,f){return r===f||r?.[O]===f}function p(r={},f,t,i){return x(()=>{var s,a;return D(()=>{s=a,a=[],F(()=>{r!==t(...a)&&(f(r,...a),s&&o(t(...s),r)&&f(null,...s))})}),()=>{H(()=>{a&&o(t(...a),r)&&f(null,...a)})}}),r}export{p as b,Y as i};
